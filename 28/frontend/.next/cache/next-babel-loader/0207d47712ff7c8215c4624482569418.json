{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _styled from \"@emotion/styled-base\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/lukehamilton/development/lyra-labs-dev/lyra-labs/frontend/components/wallet-settings/index.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n          pub fun main(): Int {\\n            return 42 + 6\\n          }\\n        \"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\", \"\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useEffect } from \"react\";\nimport * as sdk from \"@onflow/sdk\";\nimport JSONPretty from \"react-json-pretty\";\nimport CoralButton from \"@library/components/buttons/coral\";\nimport MintButton from \"@library/components/buttons/mint\";\nimport GradientButton from \"@library/components/buttons/gradient\";\nimport checkReference from \"../../flow/scripts/check-ref.cdc\";\nimport * as fcl from \"@onflow/fcl\";\nimport { WHITE, LIGHT_CORAL, MAGIC_MINT } from \"@style/colors\";\n\nvar Container = /*#__PURE__*/_styled(\"div\", {\n  target: \"e1fz02ct0\",\n  label: \"Container\"\n})({\n  display: \"flex\",\n  flexDirection: \"column\",\n  borderRadius: 3,\n  backgroundColor: WHITE,\n  boxShadow: \"0 1px 2px 0 rgba(0,0,0,.1)\",\n  padding: \"1rem\"\n}, false ? \"\" : \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9sdWtlaGFtaWx0b24vZGV2ZWxvcG1lbnQvbHlyYS1sYWJzLWRldi9seXJhLWxhYnMvZnJvbnRlbmQvY29tcG9uZW50cy93YWxsZXQtc2V0dGluZ3MvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBV2tCIiwiZmlsZSI6Ii9Vc2Vycy9sdWtlaGFtaWx0b24vZGV2ZWxvcG1lbnQvbHlyYS1sYWJzLWRldi9seXJhLWxhYnMvZnJvbnRlbmQvY29tcG9uZW50cy93YWxsZXQtc2V0dGluZ3MvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgc2RrIGZyb20gXCJAb25mbG93L3Nka1wiO1xuaW1wb3J0IEpTT05QcmV0dHkgZnJvbSBcInJlYWN0LWpzb24tcHJldHR5XCI7XG5pbXBvcnQgQ29yYWxCdXR0b24gZnJvbSBcIkBsaWJyYXJ5L2NvbXBvbmVudHMvYnV0dG9ucy9jb3JhbFwiO1xuaW1wb3J0IE1pbnRCdXR0b24gZnJvbSBcIkBsaWJyYXJ5L2NvbXBvbmVudHMvYnV0dG9ucy9taW50XCI7XG5pbXBvcnQgR3JhZGllbnRCdXR0b24gZnJvbSBcIkBsaWJyYXJ5L2NvbXBvbmVudHMvYnV0dG9ucy9ncmFkaWVudFwiO1xuaW1wb3J0IGNoZWNrUmVmZXJlbmNlIGZyb20gXCIuLi8uLi9mbG93L3NjcmlwdHMvY2hlY2stcmVmLmNkY1wiO1xuaW1wb3J0IHN0eWxlZCBmcm9tIFwiQGVtb3Rpb24vc3R5bGVkXCI7XG5pbXBvcnQgKiBhcyBmY2wgZnJvbSBcIkBvbmZsb3cvZmNsXCI7XG5pbXBvcnQgeyBXSElURSwgTElHSFRfQ09SQUwsIE1BR0lDX01JTlQgfSBmcm9tIFwiQHN0eWxlL2NvbG9yc1wiO1xuXG5jb25zdCBDb250YWluZXIgPSBzdHlsZWQoXCJkaXZcIikoe1xuICBkaXNwbGF5OiBcImZsZXhcIixcbiAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgYm9yZGVyUmFkaXVzOiAzLFxuICBiYWNrZ3JvdW5kQ29sb3I6IFdISVRFLFxuICBib3hTaGFkb3c6IFwiMCAxcHggMnB4IDAgcmdiYSgwLDAsMCwuMSlcIixcbiAgcGFkZGluZzogXCIxcmVtXCIsXG59KTtcblxuY29uc3QgV2FsbGV0U2V0dGluZ3MgPSAoKSA9PiB7XG4gIGNvbnN0IFt3YWxsZXRVc2VyLCBzZXRXYWxsZXRVc2VyXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbcmVzdWx0LCBzZXRSZXN1bHRdID0gdXNlU3RhdGUobnVsbCk7XG5cbiAgdXNlRWZmZWN0KFxuICAgICgpID0+XG4gICAgICBmY2wuY3VycmVudFVzZXIoKS5zdWJzY3JpYmUoKHVzZXIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIi0tLS0tLS0tLS0gdXNlciEgLS0tLS0tLS0tLS0tLVwiLCB1c2VyKTtcbiAgICAgICAgY29uc29sZS5sb2coXCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXCIpO1xuICAgICAgICBzZXRXYWxsZXRVc2VyKHVzZXIpO1xuICAgICAgfSksXG4gICAgW11cbiAgKTtcblxuICBjb25zdCBMQUJFTCA9IFwiQ29ubmVjdCBXYWxsZXRcIjtcblxuICBjb25zdCB3YWxsZXRDb25uZWN0ZWQgPSB3YWxsZXRVc2VyICYmIHdhbGxldFVzZXIubG9nZ2VkSW47XG4gIGNvbnN0IHdhbGxldE5vdENvbm5lY3RlZCA9XG4gICAgd2FsbGV0VXNlciA9PT0gbnVsbCB8fCAod2FsbGV0VXNlciAmJiAhd2FsbGV0VXNlci5sb2dnZWRJbik7XG5cbiAgY29uc3Qgd2FsbGV0U2V0dXAgPSBmYWxzZTtcblxuICBjb25zdCBoYW5kbGVHZXRBY2NvdW50ID0gYXN5bmMgKCkgPT4ge1xuICAgIC8vIGNvbnNvbGUubG9nKFwiY2FsbGluZyBoYW5kbGVHZXRBY2NvdW50XCIpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgc2RrLnNlbmQoXG4gICAgICBhd2FpdCBzZGsucGlwZShhd2FpdCBzZGsuYnVpbGQoW3Nkay5nZXRBY2NvdW50KFwiMDFjZjBlMmYyZjcxNTQ1MFwiKV0pKSxcbiAgICAgIHsgbm9kZTogXCJodHRwOi8vbG9jYWxob3N0OjgwODBcIiB9XG4gICAgKTtcbiAgICBjb25zb2xlLmxvZyhcIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXCIpO1xuICAgIGNvbnNvbGUubG9nKFwiLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tcmVzcG9uc2UtLVwiLCByZXNwb25zZSk7XG4gICAgY29uc29sZS5sb2coXCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVwiKTtcbiAgICAvLyAgIHNldFJlc3VsdChhd2FpdCBzZGsuZGVjb2RlUmVzcG9uc2UocmVzcG9uc2UpKVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVNldHVwQWNjb3VudCA9ICgpID0+IHt9O1xuXG4gIGNvbnN0IGdldEFkZHJlc3MgPSAodXNlciwgbnVsbFByZWZpeCA9IHRydWUpID0+IHtcbiAgICByZXR1cm4gbnVsbFByZWZpeCA/IGAweCR7dXNlci5hZGRyfWAgOiB1c2VyLmFkZHI7XG4gIH07XG5cbiAgY29uc3QgZ2VuZXJhdGVDb2RlID0gYXN5bmMgKHJhd0NvZGUsIG1hdGNoKSA9PiB7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuIHJhd0NvZGU7XG4gICAgfVxuICAgIGNvbnN0IHsgcXVlcnkgfSA9IG1hdGNoO1xuICAgIHJldHVybiByYXdDb2RlLnJlcGxhY2UocXVlcnksIChpdGVtKSA9PiB7XG4gICAgICByZXR1cm4gbWF0Y2hbaXRlbV07XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgY2hlY2tSZWYgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IGZjbC5jdXJyZW50VXNlcigpO1xuICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgdXNlci5zbmFwc2hvdCgpO1xuICAgIGNvbnN0IGFkZHJlc3MgPSBnZXRBZGRyZXNzKHNuYXBzaG90KTtcbiAgICBjb25zdCBjb250cmFjdEFkZHJlc3MgPSBcIjB4MDFjZjBlMmYyZjcxNTQ1MFwiO1xuICAgIGNvbnN0IHNjcmlwdENvZGUgPSBhd2FpdCBnZW5lcmF0ZUNvZGUoY2hlY2tSZWZlcmVuY2UsIHtcbiAgICAgIHF1ZXJ5OiAvKDB4MDF8MHgwMikvZyxcbiAgICAgIFwiMHgwMVwiOiBjb250cmFjdEFkZHJlc3MsXG4gICAgICBcIjB4MDJcIjogYWRkcmVzcyxcbiAgICB9KTtcbiAgICBjb25zdCBzY3JpcHQgPSBzZGsuc2NyaXB0YCR7c2NyaXB0Q29kZX1gO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmNsLnNlbmQoW3NjcmlwdF0pO1xuICAgIGNvbnN0IGNoZWNrUmVzdWx0ID0gYXdhaXQgZmNsLmRlY29kZShyZXNwb25zZSk7XG4gICAgY29uc29sZS5sb2coXCJjaGVja1Jlc3VsdFwiLCBjaGVja1Jlc3VsdCk7XG4gIH07XG5cbiAgY29uc3QgcnVuVGVzdFNjcmlwdCA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZjbC5zZW5kKFtcbiAgICAgIGZjbC5zY3JpcHRgXG4gICAgICAgICAgcHViIGZ1biBtYWluKCk6IEludCB7XG4gICAgICAgICAgICByZXR1cm4gNDIgKyA2XG4gICAgICAgICAgfVxuICAgICAgICBgLFxuICAgIF0pO1xuICAgIGNvbnNvbGUubG9nKFwicmVzcG9uc2VcIiwgcmVzcG9uc2UpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPENvbnRhaW5lcj5cbiAgICAgIDxkaXY+XG4gICAgICAgIHt3YWxsZXROb3RDb25uZWN0ZWQgJiYgKFxuICAgICAgICAgIDxDb3JhbEJ1dHRvbiBvbkNsaWNrPXtmY2wuYXV0aGVudGljYXRlfT5Db25uZWN0IFdhbGxldDwvQ29yYWxCdXR0b24+XG4gICAgICAgICl9XG4gICAgICAgIDxiciAvPlxuICAgICAgICA8YnIgLz5cbiAgICAgICAgPGJyIC8+XG4gICAgICAgIHt3YWxsZXRDb25uZWN0ZWQgJiYgIXdhbGxldFNldHVwICYmIChcbiAgICAgICAgICA8Q29yYWxCdXR0b24gb25DbGljaz17ZmNsLmF1dGhlbnRpY2F0ZX0+Q29ubmVjdCBXYWxsZXQ8L0NvcmFsQnV0dG9uPlxuICAgICAgICApfVxuICAgICAgICA8YnIgLz5cbiAgICAgICAgPGJyIC8+XG4gICAgICAgIDxiciAvPlxuICAgICAgICB7d2FsbGV0Q29ubmVjdGVkICYmICF3YWxsZXRTZXR1cCAmJiAoXG4gICAgICAgICAgPENvcmFsQnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUNoZWNrUmVmfT5DaGVjayBSZWZlcmVuY2U8L0NvcmFsQnV0dG9uPlxuICAgICAgICApfVxuICAgICAgICA8YnIgLz5cbiAgICAgICAgPGJyIC8+XG4gICAgICAgIDxiciAvPlxuICAgICAgICB7d2FsbGV0Q29ubmVjdGVkICYmICF3YWxsZXRTZXR1cCAmJiAoXG4gICAgICAgICAgPENvcmFsQnV0dG9uIG9uQ2xpY2s9e3J1blRlc3RTY3JpcHR9PlJ1biBUZXN0IFNjcmlwdDwvQ29yYWxCdXR0b24+XG4gICAgICAgICl9XG4gICAgICAgIDxiciAvPlxuICAgICAgICA8YnIgLz5cbiAgICAgICAgPGJyIC8+XG4gICAgICAgIHt3YWxsZXRDb25uZWN0ZWQgJiYgKFxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZm9udFNpemU6IDE0IH19PlxuICAgICAgICAgICAgPEpTT05QcmV0dHkgaWQ9XCJqc29uLXByZXR0eVwiIGRhdGE9e3dhbGxldFVzZXJ9PjwvSlNPTlByZXR0eT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgey8qIDxHcmFkaWVudEJ1dHRvbj57TEFCRUx9PC9HcmFkaWVudEJ1dHRvbj4gKi99XG4gICAgICA8L2Rpdj5cbiAgICA8L0NvbnRhaW5lcj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFdhbGxldFNldHRpbmdzO1xuXG57XG4gIC8qIDxkaXY+XG4gICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUdldEFjY291bnR9PkdldCBBY2NvdW50PC9idXR0b24+XG4gICAgICAgICAgICA8cHJlPntKU09OLnN0cmluZ2lmeShyZXN1bHQsIG51bGwsIDIpfTwvcHJlPlxuICAgICAgICAgIDwvZGl2PiAqL1xufVxuIl19 */\");\n\nvar WalletSettings = function WalletSettings() {\n  _s();\n\n  var _useState = useState(null),\n      walletUser = _useState[0],\n      setWalletUser = _useState[1];\n\n  var _useState2 = useState(null),\n      result = _useState2[0],\n      setResult = _useState2[1];\n\n  useEffect(function () {\n    return fcl.currentUser().subscribe(function (user) {\n      console.log(\"-------------------------\");\n      console.log(\"---------- user! -------------\", user);\n      console.log(\"-------------------------\");\n      setWalletUser(user);\n    });\n  }, []);\n  var LABEL = \"Connect Wallet\";\n  var walletConnected = walletUser && walletUser.loggedIn;\n  var walletNotConnected = walletUser === null || walletUser && !walletUser.loggedIn;\n  var walletSetup = false;\n\n  var handleGetAccount = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.t0 = sdk;\n              _context.t1 = sdk;\n              _context.next = 4;\n              return sdk.build([sdk.getAccount(\"01cf0e2f2f715450\")]);\n\n            case 4:\n              _context.t2 = _context.sent;\n              _context.next = 7;\n              return _context.t1.pipe.call(_context.t1, _context.t2);\n\n            case 7:\n              _context.t3 = _context.sent;\n              _context.t4 = {\n                node: \"http://localhost:8080\"\n              };\n              _context.next = 11;\n              return _context.t0.send.call(_context.t0, _context.t3, _context.t4);\n\n            case 11:\n              response = _context.sent;\n              console.log(\"--------------------------\");\n              console.log(\"------------------------response--\", response);\n              console.log(\"--------------------------\"); //   setResult(await sdk.decodeResponse(response))\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleGetAccount() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleSetupAccount = function handleSetupAccount() {};\n\n  var getAddress = function getAddress(user) {\n    var nullPrefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    return nullPrefix ? \"0x\".concat(user.addr) : user.addr;\n  };\n\n  var generateCode = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(rawCode, match) {\n      var query;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (match) {\n                _context2.next = 2;\n                break;\n              }\n\n              return _context2.abrupt(\"return\", rawCode);\n\n            case 2:\n              query = match.query;\n              return _context2.abrupt(\"return\", rawCode.replace(query, function (item) {\n                return match[item];\n              }));\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function generateCode(_x, _x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var checkRef = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var user, snapshot, address, contractAddress, scriptCode, script, response, checkResult;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              user = fcl.currentUser();\n              _context3.next = 3;\n              return user.snapshot();\n\n            case 3:\n              snapshot = _context3.sent;\n              address = getAddress(snapshot);\n              contractAddress = \"0x01cf0e2f2f715450\";\n              _context3.next = 8;\n              return generateCode(checkReference, {\n                query: /(0x01|0x02)/g,\n                \"0x01\": contractAddress,\n                \"0x02\": address\n              });\n\n            case 8:\n              scriptCode = _context3.sent;\n              script = sdk.script(_templateObject(), scriptCode);\n              _context3.next = 12;\n              return fcl.send([script]);\n\n            case 12:\n              response = _context3.sent;\n              _context3.next = 15;\n              return fcl.decode(response);\n\n            case 15:\n              checkResult = _context3.sent;\n              console.log(\"checkResult\", checkResult);\n\n            case 17:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function checkRef() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var runTestScript = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return fcl.send([fcl.script(_templateObject2())]);\n\n            case 2:\n              response = _context4.sent;\n              console.log(\"response\", response);\n\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function runTestScript() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, walletNotConnected && __jsx(CoralButton, {\n    onClick: fcl.authenticate,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, \"Connect Wallet\"), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }), walletConnected && !walletSetup && __jsx(CoralButton, {\n    onClick: fcl.authenticate,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }, \"Connect Wallet\"), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }), walletConnected && !walletSetup && __jsx(CoralButton, {\n    onClick: handleCheckRef,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }, \"Check Reference\"), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }), walletConnected && !walletSetup && __jsx(CoralButton, {\n    onClick: runTestScript,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  }, \"Run Test Script\"), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }\n  }), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }), walletConnected && __jsx(\"div\", {\n    style: {\n      fontSize: 14\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  }, __jsx(JSONPretty, {\n    id: \"json-pretty\",\n    data: walletUser,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }))));\n};\n\n_s(WalletSettings, \"bEWOfEekUuISQYWO95YlzAMSGos=\");\n\n_c = WalletSettings;\nexport default WalletSettings;\n{\n  /* <div>\n            <button onClick={handleGetAccount}>Get Account</button>\n            <pre>{JSON.stringify(result, null, 2)}</pre>\n          </div> */\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"WalletSettings\");","map":{"version":3,"sources":["/Users/lukehamilton/development/lyra-labs-dev/lyra-labs/frontend/components/wallet-settings/index.js"],"names":["React","useState","useEffect","sdk","JSONPretty","CoralButton","MintButton","GradientButton","checkReference","fcl","WHITE","LIGHT_CORAL","MAGIC_MINT","Container","display","flexDirection","borderRadius","backgroundColor","boxShadow","padding","WalletSettings","walletUser","setWalletUser","result","setResult","currentUser","subscribe","user","console","log","LABEL","walletConnected","loggedIn","walletNotConnected","walletSetup","handleGetAccount","build","getAccount","pipe","node","send","response","handleSetupAccount","getAddress","nullPrefix","addr","generateCode","rawCode","match","query","replace","item","checkRef","snapshot","address","contractAddress","scriptCode","script","decode","checkResult","runTestScript","authenticate","handleCheckRef","fontSize"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport * as sdk from \"@onflow/sdk\";\nimport JSONPretty from \"react-json-pretty\";\nimport CoralButton from \"@library/components/buttons/coral\";\nimport MintButton from \"@library/components/buttons/mint\";\nimport GradientButton from \"@library/components/buttons/gradient\";\nimport checkReference from \"../../flow/scripts/check-ref.cdc\";\nimport styled from \"@emotion/styled\";\nimport * as fcl from \"@onflow/fcl\";\nimport { WHITE, LIGHT_CORAL, MAGIC_MINT } from \"@style/colors\";\n\nconst Container = styled(\"div\")({\n  display: \"flex\",\n  flexDirection: \"column\",\n  borderRadius: 3,\n  backgroundColor: WHITE,\n  boxShadow: \"0 1px 2px 0 rgba(0,0,0,.1)\",\n  padding: \"1rem\",\n});\n\nconst WalletSettings = () => {\n  const [walletUser, setWalletUser] = useState(null);\n  const [result, setResult] = useState(null);\n\n  useEffect(\n    () =>\n      fcl.currentUser().subscribe((user) => {\n        console.log(\"-------------------------\");\n        console.log(\"---------- user! -------------\", user);\n        console.log(\"-------------------------\");\n        setWalletUser(user);\n      }),\n    []\n  );\n\n  const LABEL = \"Connect Wallet\";\n\n  const walletConnected = walletUser && walletUser.loggedIn;\n  const walletNotConnected =\n    walletUser === null || (walletUser && !walletUser.loggedIn);\n\n  const walletSetup = false;\n\n  const handleGetAccount = async () => {\n    // console.log(\"calling handleGetAccount\");\n    const response = await sdk.send(\n      await sdk.pipe(await sdk.build([sdk.getAccount(\"01cf0e2f2f715450\")])),\n      { node: \"http://localhost:8080\" }\n    );\n    console.log(\"--------------------------\");\n    console.log(\"------------------------response--\", response);\n    console.log(\"--------------------------\");\n    //   setResult(await sdk.decodeResponse(response))\n  };\n\n  const handleSetupAccount = () => {};\n\n  const getAddress = (user, nullPrefix = true) => {\n    return nullPrefix ? `0x${user.addr}` : user.addr;\n  };\n\n  const generateCode = async (rawCode, match) => {\n    if (!match) {\n      return rawCode;\n    }\n    const { query } = match;\n    return rawCode.replace(query, (item) => {\n      return match[item];\n    });\n  };\n\n  const checkRef = async () => {\n    const user = fcl.currentUser();\n    const snapshot = await user.snapshot();\n    const address = getAddress(snapshot);\n    const contractAddress = \"0x01cf0e2f2f715450\";\n    const scriptCode = await generateCode(checkReference, {\n      query: /(0x01|0x02)/g,\n      \"0x01\": contractAddress,\n      \"0x02\": address,\n    });\n    const script = sdk.script`${scriptCode}`;\n    const response = await fcl.send([script]);\n    const checkResult = await fcl.decode(response);\n    console.log(\"checkResult\", checkResult);\n  };\n\n  const runTestScript = async () => {\n    const response = await fcl.send([\n      fcl.script`\n          pub fun main(): Int {\n            return 42 + 6\n          }\n        `,\n    ]);\n    console.log(\"response\", response);\n  };\n\n  return (\n    <Container>\n      <div>\n        {walletNotConnected && (\n          <CoralButton onClick={fcl.authenticate}>Connect Wallet</CoralButton>\n        )}\n        <br />\n        <br />\n        <br />\n        {walletConnected && !walletSetup && (\n          <CoralButton onClick={fcl.authenticate}>Connect Wallet</CoralButton>\n        )}\n        <br />\n        <br />\n        <br />\n        {walletConnected && !walletSetup && (\n          <CoralButton onClick={handleCheckRef}>Check Reference</CoralButton>\n        )}\n        <br />\n        <br />\n        <br />\n        {walletConnected && !walletSetup && (\n          <CoralButton onClick={runTestScript}>Run Test Script</CoralButton>\n        )}\n        <br />\n        <br />\n        <br />\n        {walletConnected && (\n          <div style={{ fontSize: 14 }}>\n            <JSONPretty id=\"json-pretty\" data={walletUser}></JSONPretty>\n          </div>\n        )}\n        {/* <GradientButton>{LABEL}</GradientButton> */}\n      </div>\n    </Container>\n  );\n};\n\nexport default WalletSettings;\n\n{\n  /* <div>\n            <button onClick={handleGetAccount}>Get Account</button>\n            <pre>{JSON.stringify(result, null, 2)}</pre>\n          </div> */\n}\n"]},"metadata":{},"sourceType":"module"}